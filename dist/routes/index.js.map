{"version":3,"sources":["../../routes/index.js"],"names":["express","require","router","Router","get","req","res","next","render","title","app","query","process","env","VERIFY_TOKEN","console","log","status","send","error","sendStatus","module","exports"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,SAASF,QAAQG,MAAR,EAAb;;AAEA;AACAD,OAAOE,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvCD,QAAIE,MAAJ,CAAW,OAAX,EAAoB,EAAEC,OAAO,SAAT,EAApB;AACD,CAFD;;AAIAC,IAAIN,GAAJ,CAAQ,UAAR,EAAoB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACnC,QAAID,IAAIM,KAAJ,CAAU,UAAV,MAA0B,WAA1B,IACAN,IAAIM,KAAJ,CAAU,kBAAV,MAAmCC,QAAQC,GAAR,CAAYC,YADnD,EACiE;AAC7DC,gBAAQC,GAAR,CAAY,oBAAZ;AACAV,YAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBb,IAAIM,KAAJ,CAAU,eAAV,CAArB;AACH,KAJD,MAIO;AACHI,gBAAQI,KAAR,CAAc,2DAAd;AACAb,YAAIc,UAAJ,CAAe,GAAf;AACH;AACJ,CATD;;AAWAC,OAAOC,OAAP,GAAiBpB,MAAjB","file":"index.js","sourcesContent":["var express = require('express');\nvar router = express.Router();\n\n/* GET home page. */\nrouter.get('/', function(req, res, next) {\n  res.render('index', { title: 'Express' });\n});\n\napp.get('/webhook', function(req, res) {\n    if (req.query['hub.mode'] === 'subscribe' &&\n        req.query['hub.verify_token'] ===  process.env.VERIFY_TOKEN) {\n        console.log(\"Validating webhook\");\n        res.status(200).send(req.query['hub.challenge']);\n    } else {\n        console.error(\"Failed validation. Make sure the validation tokens match.\");\n        res.sendStatus(403);\n    }\n});\n\nmodule.exports = router;\n"]}